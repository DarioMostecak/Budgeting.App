@page "/login"
@using Budgeting.Web.App.Models.LoginViews;
@using Budgeting.Web.App.Services.Foundations;
@using Microsoft.AspNetCore.Authorization;
@using Budgeting.Web.App.Services.Foundations.Identity;
@using System.ComponentModel.DataAnnotations;

@attribute [AllowAnonymous]

<br />
<MudPaper Class="mx-auto pa-6" Style="width:50%;">
    <MudText Align="Align.Center" Typo="Typo.h4">LOG IN</MudText>
    <EditForm Model=@loginModel OnValidSubmit="LoginUserAsync">

        <MudTextField T="string" HelperText="Enter email" @bind-Value="@loginModel.Email" RequiredError="Email is requierd!"
                       Validation="@(new EmailAddressAttribute() {ErrorMessage ="Email address is invalid!"})" Immediate="true" Label="Email" Variant="Variant.Text" />
        <br />
      
        <MudTextField T="string" @bind-Value="@loginModel.Password" Label="Password"
                      Validation="@(new MinLengthAttribute(8) {ErrorMessage = "Password must be at least 8 charachters long!"})" Required="true" RequiredError="Password is required!" Variant="Variant.Outlined" InputType="InputType.Password" />
       
                      <MudCardActions>
            <MudButton  ButtonType="ButtonType.Submit" Variant="Variant.Filled" Color="Color.Dark" Class="ml-auto">SUBMIT</MudButton>
        </MudCardActions>
    </EditForm>
</MudPaper>

@code {
  
}
