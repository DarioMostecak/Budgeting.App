@using Budgeting.Web.App.Filters;
@using Budgeting.Web.App.Views.Bases
@using Budgeting.Web.App.Views.Components.ContainerComponents
@using System.ComponentModel.DataAnnotations;

<CardBase Title="REGISTER"
          Class="mx-auto pa-6 login-card"
          Style="@("width:50%;")">

          <CardContent>

              <ContainerComponent State=@State>

                  <Content>

                      <TextBoxBase @ref=@FirstNameTextBox
                                   HelperText="Enter first name"
                                   Label="First name"
                                   IsRequired=@true
                                   RequiredError="First name is requierd."
                                   Immediate=@true
                                   Variant="Variant.Text"
                                   ValidationAttribute=@(new StringLengthAttribute(20) 
                                                          { 
                                                              MinimumLength = 3, 
                                                              ErrorMessage = "First name must be between" +
                                                                             "3 and 20 charachter long!"
                                                          }) 
                                   />

                      <TextBoxBase @ref=@LastNameTextBox
                                   HelperText="Enter last name"
                                   Label="Last name"
                                   IsRequired=@true
                                   RequiredError="Last name is requierd."
                                   Immediate=@true
                                   Variant="Variant.Text"
                                   ValidationAttribute=@(new StringLengthAttribute(20)
                                                          {
                                                              MinimumLength = 3,
                                                              ErrorMessage = "First name must be between" +
                                                                             "3 and 20 charachter long!"
                                                          })
                                   />

                      <TextBoxBase @ref=@EmailTextBox
                                   HelperText="Enter email"
                                   Label="Email"
                                   IsRequired=@true
                                   RequiredError="Email is requierd."
                                   Immediate=@true
                                   Variant="Variant.Text"
                                   ValidationAttribute=@(new EmailAddressAttribute() 
                                                          { 
                                                             ErrorMessage = "Email address is invalid!"
                                                          })
                                   />

                      <TextBoxBase @ref=@PasswordTextBox
                                   HelperText="Enter password"
                                   Label="Password"
                                   IsRequired=@true
                                   RequiredError="Password is required!"
                                   Immediate=@true
                                   Variant=@Variant.Text
                                   InputType=@InputType.Password
                                   ValidationAttribute=@(new MinLengthAttribute(8) 
                                                          {
                                                              ErrorMessage = "Password must be at least 8 charachters long!"
                                                          }) 
                                   />

                       <TextBoxBase @ref=@ConfirmPasswordTextBox
                                    HelperText="Confirm password"
                                    Label="Confirm password"
                                    IsRequired=@true
                                    RequiredError=" Confirm password is required!"
                                    Immediate=@true
                                    Variant=@Variant.Text
                                    InputType=@InputType.Password
                                    />
                  </Content>

              </ContainerComponent> 

          </CardContent>

          <CardAction>

              <ButtonBase @ref=@SubmitButton
                          Label="SUBMIT"
                          ButtonType="ButtonType.Submit"
                          OnClick="@RegisterUserAsync"
                          Color="Color.Dark"
                          Variant=@Variant.Filled
                          Class="ml-auto" />

          </CardAction>

</CardBase>